<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Liquid Glass Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            height: 100vh;
            background: #0d0d0f;
            color: #e0e0e0;
            font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            overflow: hidden;
        }

        .bg-lights {
            position: fixed;
            inset: 0;
            z-index: 0;
        }

        .light {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(180, 200, 255, 0.25) 0%, rgba(180, 200, 255, 0) 65%);
            filter: blur(80px);
            animation: pulse 10s ease-in-out infinite;
        }

        .light:nth-child(1) { width: 600px; height: 600px; top: -200px; left: -200px; animation-delay: 0s; }
        .light:nth-child(2) { width: 800px; height: 800px; top: 30%; right: -300px; animation-delay: 3.5s; }
        .light:nth-child(3) { width: 500px; height: 500px; bottom: -150px; left: 10%; animation-delay: 6s; }
        .light:nth-child(4) { width: 700px; height: 700px; top: 50%; left: 50%; transform: translate(-50%, -50%); animation-delay: 1.8s; opacity: 0.6; }

        @keyframes pulse {
            0%, 100% { opacity: 0.3; transform: scale(0.9); }
            50% { opacity: 0.7; transform: scale(1.3); }
        }

        .container {
            position: relative;
            z-index: 1;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .profile-card {
            background: rgba(255, 255, 255, 0.07);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border-radius: 32px;
            padding: 50px 40px 40px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.12);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            max-width: 320px;
            width: 90%;
        }

        .avatar {
            width: 130px;
            height: 130px;
            border-radius: 50%;
            overflow: hidden;
            margin: 0 auto 30px;
            border: 4px solid rgba(255, 255, 255,255,0.25);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.4);
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .username {
            font-size: 32px;
            font-weight: 700;
            letter-spacing: 4px;
            margin-bottom: 12px;
        }

        .first-entry {
            font-size: 16px;
            opacity: 0.65;
        }

        .bottom-island {
            position: fixed;
            bottom: 35px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.09);
            backdrop-filter: blur(26px);
            -webkit-backdrop-filter: blur(26px);
            border-radius: 60px;
            padding: 18px 50px;
            display: flex;
            gap: 60px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            z-index: 2;
        }

        .nav-item {
            color: #888;
            text-align: center;
            transition: color 0.3s ease;
        }

        .nav-item.active {
            color: #ffffff;
        }

        .nav-icon {
            font-size: 34px;
            margin-bottom: 6px;
        }

        .nav-label {
            font-size: 13px;
            font-weight: 500;
        }
    </style>
</head>
<body>

    <div class="bg-lights">
        <div class="light"></div>
        <div class="light"></div>
        <div class="light"></div>
        <div class="light"></div>
    </div>

    <div class="container">
        <div class="profile-card">
            <div class="avatar">
                <img id="avatar-img" src="" alt="Avatar">
            </div>
            <div class="username" id="username">// @loading //</div>
            <div class="first-entry" id="first-entry">–ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥: –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è‚Ä¶</div>
        </div>
    </div>

    <div class="bottom-island">
        <div class="nav-item active">
            <div class="nav-icon">üè†</div>
            <div class="nav-label">–ì–ª–∞–≤–Ω–∞—è</div>
        </div>
        <div class="nav-item">
            <div class="nav-icon">‚ÑπÔ∏è</div>
            <div class="nav-label">–ò–Ω—Ñ–æ</div>
        </div>
        <div class="nav-item">
            <div class="nav-icon">üõí</div>
            <div class="nav-label">–ü–æ–¥–ø–∏—Å–∫–∞</div>
        </div>
    </div>

    <script>
        window.addEventListener('load', () => {
            // –†–∞—Å—à–∏—Ä—è–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω –≤ Telegram
            if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
                Telegram.WebApp.ready();
                Telegram.WebApp.expand();
            }

            const user = (typeof Telegram !== 'undefined' && Telegram.WebApp?.initDataUnsafe?.user) || null;

            let username = 'guest';
            let avatarUrl = 'https://www.pngkey.com/png/full/226-2267923_happy-sunflower-clipart.png'; // –∫—Ä–∞—Å–∏–≤—ã–π —É–ª—ã–±–∞—é—â–∏–π—Å—è –ø–æ–¥—Å–æ–ª–Ω—É—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

            if (user) {
                if (user.username) {
                    username = '@' + user.username;
                } else {
                    username = user.first_name + (user.last_name ? ' ' + user.last_name : '');
                }

                // –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å —é–∑–µ—Ä–Ω–µ–π–º ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ, –∏–Ω–∞—á–µ –∏–º—è
                avatarUrl = `https://api.dicebear.com/8.x/avataaars-neutral/svg?seed=${user.id || user.username || 'user'}`;
            } else {
                // –ï—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–æ –Ω–µ –≤ Telegram ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞–∫ –Ω–∞ —Ç–≤–æ—ë–º —Å–∫—Ä–∏–Ω–µ
                username = '@XaneZy';
                avatarUrl = 'https://www.pngkey.com/png/full/226-2267923_happy-sunflower-clipart.png';
            }

            document.getElementById('username').innerText = `// ${username} //`;
            document.getElementById('avatar-img').src = avatarUrl;

            // –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥ ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
            let firstEntry = localStorage.getItem('firstEntry');

            if (!firstEntry) {
                const now = new Date();
                const year = now.getFullYear();
                const month = String(now.getMonth() + 1).padStart(2, '0');
                const day = String(now.getDate()).padStart(2, '0');
                const hour = String(now.getHours()).padStart(2, '0');
                const minute = String(now.getMinutes()).padStart(2, '0');
                const second = String(now.getSeconds()).padStart(2, '0');

                firstEntry = `${year}.${month}.${day}, ${hour}:${minute}:${second}`;
                localStorage.setItem('firstEntry', firstEntry);
            }

            document.getElementById('first-entry').innerText = `–ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥: ${firstEntry}`;
        });
    </script>
</body>
</html>
